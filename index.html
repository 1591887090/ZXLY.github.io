<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>星月网站汇总中心</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #32CD32;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #32CD32;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: F8F8FF;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">页面已受保护</p>
                        <p><p><strong><font _msthash="96" _mstmutation="1" _msttexthash="61561383">请联系管理员获取访问权限</font></strong></p>
</p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="请输入访问密码"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="template_toggle_show"
                                title="template_toggle_show"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            已知晓
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="确认进入" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = 
            ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
        ;
            const templateError = "template_error",
                templateToggleAltShow = "template_toggle_show",
                templateToggleAltHide = "template_toggle_hide",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"f4694f8c2c79669e77a6668c7876ef911174f21f63ddc72432d2d155d1f667c46e87d6d1f65873d2c438c6c323a2937789c277c8092c1d8578e3c9199f87f9cca69583bcddf1ffb2d2def3f39030458d74a3461b98b2ba5ec17c4d5424f39cef9207ba3770ae22c8b75ba9316769aaa03bb1f122f2e6d7a7dd5f99cfa3895237967f9b2c67fdf878d4133c10a80a7b5642bf52d5760d6bb0da81a4fb7aef28a78917688e8f721ac2912f280b9016b8a5dab4a027a756811cc901467bc98ef34c2dcc60d11ee6ea06ab97b5f2e6168011c58366cf1b60b5b8df71bb8cdc82fab8a4c2da0ba778bf8d896e197ecb07e724a3f7d9b3025e42a44ae365eeda9c08727b493eec57ff8cf94cb78ad757bc4c2ae5cc4d936233ba0356a9be471701e88f445d5fb0275dc0011ebd02b7aa8a363f20a450a74788d5836cac8cd2e37d59e043ec484766668ec64ac289cb1bd53feb7599fef6627ff0ca2074167a09f9abebec2f3b579449f551f2601523f59e2108c952a893b04479dcc31894d6e8605feda48a9f7b770a823f4ba2feb13f474f2cc5adf4ee4f4c7e9ddeefed28c40cbedacad042250e4ba8e1a44f1e5bcafa5d21678712d506935bc525c5f29cdf774e2774e63ff3d1ff9a436a328e8f6a237ee76fe257edd5e46cdcf7366d0ef6c42cca32b5933f51c52828fa23013750ce4e04eaaa57d6ab5199ff402f975287cfabd0c8ca2ec4147a0dc278c3eef44b00daf54ce18b1bf76d6f5cfdad5bf12bfbf8e0edbd185b67c2e22928fa15086dac3512b0800fe1a67de24eee68b03368129f7b4e8d9df11f9eaa09cbbd45c28bb63a0b47523517a3e33013a5aa1ed6c434e456c0f2e5969046be6c9937c83f8bce2cd394a8ba5a3760a1ae738928f358248987cbe327d7639d6ae0df930b833cb6878e0f7fe7fd337215f1a8ab275324bd220cd7310d7c1339b0251da354cc9e4783b350e51e327cb2589a810efbbec8ab0c4dc13216061b4e1e3fafa9086f7072e48f58f9d61889445b08ac4e1465d92b55ee82177f7c366894428bbe0e10e051e14933f0c0bf7547a979cccf568aa8dcd81c74ce62af2090a1503fe1d0aed459001c4502f60cd571cbb9d86932efd7c6a93374f62ae048a5ec056b487ece265695b6fc607e7a52947b3851f9977d59ad97f54531c25f5a4727947036ec65550f4b2b22a8b257e69c446ea061160673c919dc4583759d645c79b1cdd20cd5d1ec5b8164372a5edcebfa109d6343aedc15299103171167d5c884f1053ed143b18aab492100de1ae1223cb510b7e10966c974e999db1c3aa036615928ce8cad055cef4560f418068f11069e5bf3c3897aa4584e6f23a3c1cc211cdc9488b75451c22725d6dc9bc19d57fe6cde7f5044213525fd6d9cdeda84dfa2124dd19fb86e75bf4cbbd23ed56ad4afee92c6134e2702d16578041492fc1d875147e63cdd8acb28144112545f9196225426cd3d2af4ec489538ad72fd85979f7bbd0113cc1bb855bae5b0050d016850c7700a70f6510bac089b17b988253bd81e786b38a586b8bf0e4163933dcad3636315c47482ba18e01299c14a7b81cc392c38fb3b5960a174e4a2dc50c89bb1c12e6fe69425631927a073d007fae3fc22d9178a8ea5370c806a4acddb23ded463356f80a544b71bd20610e988813340c04ab653dd4a4b6e26107ef6c77aa194cc1958baa826afe8c88b9e957da5052f31da106cb17fa46419758a28d4066545b7646a6d13c961036f7ec294af43f8a019e969d4d16272e9ed98b3bd6bbc48e0b7cae101e56632e4f83086d832f8f79fa04009c9e3e7f28ad2306550c73c83dd446d2d55372ae4360f29afc73d1450cc4441b5464f9334d4c209d28359da2cf28d38bed9635a015105236a0fccbf8a3880c6a1cc8f4c83508e36834e8fc9a434c7d8a80fd7e18d14d88d7c9a8f2568741805039e4b32cc3f32b55f9830c4bef4972bb28af296122a7d6fcf77d6b889a575587571172175b541b0483886df94e6e4f2e4287483f0a939a5e1265f4db1ae0a091963cb42599ab449660503f7b19c2b09f64ecf65efc6e83e73541b785473d29f86a35a172a274b4a2dda2704db7201930980577a5eab47b4754c852ef4ea5e457166759567d198c4a7c035557a8ca52c0284f31a908cdb00c6db28697a36faa277a3d6ede2ae45e57d755fcd2d04f0b1b19466e4bdb4ac23347079f6a780b81e574d5a9124404ccd857efc9f34b901fe94e3ae4630b4f5840436a271d01dcc753423cfc30d3e2a328d2d4040f333aa9f123d9ecf8d713cc7687e945ab67f8b35a7dde66ab2f8a78bd9672aaa512d800b808634df784e21135d518b77c40c9bee8dce69fa3f3366f4a7c416e34b17531642812ac7ee6930f791bd2952ccf6f85602d728eee742cc41a4d47157f7dd5fd04f40adf96c5b5b0571d3968b994ca0fb3693488ff48e9ee2bb656bf661ef57a3e02085e212cf07c9d8e22c7bfaa17681365c9c88460d03ed252ace599476ae01c276082cc36c7b0d579a0537f648a4d2fcc6ff8791f14958930ffc26792ed44e1250b3e309c7b26d05936c16c16ca5ebec6ef5a21f3764e79ce8b4328f6ada59cefb3de0149eadc6588204a7c184d0aa209d73fba917cd4846b6e40df49527c4d1f21038e022059cfec07cc93ff043ba022e9c015c7d8b4c0d9a12386f1d9616f086a0031818b81e3e9473568c2ccc9807749d7ef74be65534c399a2fc0103117e9191c8c6da0bb318455b0d940f6c99a98f0be47cb4a834aa45c102902334d9356145b0d200f0591c66734501b42ce4e078a1cbb784918fbdc65a433216d8167f95b74110c11c1a0eb43573abc04df9cd5868d6433d0508662a5cd84f4576754f6cb33fcb6606140d7e3b191065d70d344f3e3052a9215dbf9d954c1126a9e362842bc583402ddd536b35f5a09453307dd2d5f6be05532b740e2cfce049ba9941cb8b1ae8e1ccda4100f7eb38e009655f195b40bd2c3ff9662f454ddd311c9d5f1dfd9de78cc5bc5871be24db6d50a3fe7bd2887c7081ec1bce991c8e02a5444c88295e4423b252417a8b1626913a070d8b90a8564d3901510b58089c01c075122692da06a94e3e69840b5601c8b6b83dd37ff4132164aa31f05772268b04e7b876fddfa610c20dd2c019f1c370155da8d31ced80aa39f565735c9b4e7d27395361ceebd47e436b5a96c0672c977a116c9fa7fb5c51f145deff231c9e425fa2c661e2afd36d5547ffae6a26ad937131601bde8158a2d6d47419c1f104363a21917b36b71776409ac810cbe426d2f7b5867d262f8dcfce63d8749035debc48bdb7d0709eeeab179ccbb14ac7f0a744ea370a25bac4a27d4c80ffd0a28ad86615ae621dec308573f3d14abd7de8dd63bdaf780a6110d77e7c9fbc3c76e1e284db659bd8408a028105332ded3a50d6a280c39478e757128e9244a5305d2f21597a09a992aa1dbc9300218688d27366fe7f3a5ed0ce070f6321537386148a97b45e9ec7deb056da9b006b28cac90377e0bd14d459204ae8f6587e90bd584c1581f16a362181adf7e6c3205d39ad3cfd430164d625cc5baf0da521fb20a1dc7e4780e1bdbc3ea8583d4c38d6f84a5a03e5a86487624219b260c3160f241850ab87ab2850fae0ea262593922081fb9a898307aa1d376e71ac2f0f639506b9189de7d576d1dad0425a90910264815f49d98d7de0582919763780181aaa5f35b0ac88a70b16960da79a4d20cc7861419bcce2c21379e2fa223e1efd689eba7a31ed051bd669b5eeebe452de57e9b044939983a5b6761db65322f6535a06f9770a464267e3b9126622e2b4a36953b7a9f90e06c2e2b65d912c4701937d36db54f85c68e4c6f85ab68b31757f1a00dc925be7dd8f94676d32516218f75f57fb0c247118de4cf23bdfab72157d36b87a9f04f412be4c9ea1c6a5273e470068c2ac08d685157050a64e4b855154811f534c783bc696c81ac29067b3124960db40136058872f54a07962f967405d44fc8b37a68ed777affcbc4e2914feb7b492f323031810b48806f0094546952cfb776de69ec1fef37296f95bd2bb38d13e4b2ec591f46d3185e006a92f77e06b5cdafc1894939c52352f7a53b996a09f6bae78d09f0f8534b4fa45a91da48793e49644748d5616dfd00cf80768199c03cb897f0772f40e3eae3a0560e27dc0fadf2d9bf70703bbe22f98b8e8bf333d3f3d5c8147bfda777e41a83c634db7a239c92e858e12a7010d747aadb38ae239b681aaed060eadd8ed024fd3d3c2f886a389a49ca45f67ea46efd4b80bfc3f0d92370707907bb0bf2253f4e721f30edbd681d54903ae08e33a1b48d2c26361a23bbcf88fdb4d316a57be42233942c9817c12dac0d32b2ec8ad144d8e3e554b7d579c1916f168a448e4aca675dc8174d61029d84274fb1b79406723da926d9f9e945f9fa7430f3d7c24c0d48f99a3d6dddfc9dcb1ec221ba371a3775fb2b22114c88e13ac58a478e94d9c7a4367d1ae42125025b391b768be42e0ae58deaca23e7aa3d7a188f4f957d6c0dce9b43ac7a2164f2f93a8d56f1e1d358536bd6e061b38efc91105a8ec5cd371a4ae945359b0a8463d37be8afe7d53860e831a92a1844b661c14e0eb8ef496658bd746ad2f486f97262ed2d90497a1c19fa88c72c64a9298db0076be99fc8527a117d9e0f9b1ad2fec82bec70c69eef1bda12f3f160c4f1310e8f4ac66d753a25330514b16506add420ab61a47bb5b6dfd6735ef251cddecdef8f9d2230d1dd2d6738199e0d02200da0cf89eeee4ab33187830ad39bba7787ad4e0f52ae4d25f0c05f2884dca62e1916640d783aa48db6986965f23436736efd346c7959fbf132895851a942e2390341411c0833dde6be6476676bb175760745cd6daadc62a8ab41f1297e1f43323c11b0d273b80b4babcbc54977c9750e7344e3265e0e3de29a256abc6a7648f89cd0a903655ea1aa216f99c8f35bb18ffa6ff6aa51a6266976f9562c005620299f6856df4ea13ce393c333d40264a4656dcb6387566f8aa898a716b2f06cac15c4687fbcbac2cfb35c11f9aa6e88449d365a62d0c2f7d27758f8450ba65b8336312b2bd30e22dca13b704656c8f6740b86da195397813a668421ad9ecc98247d4b8e4865cc211d952070d0047e58f49588ba46df1cfa161e235ee4cb3e6fcf382596c32f691a3cf4d057122603dddb54983fff7dc1ed813f185c09470e303996d3827e7ff371de7341fd3041de771e73a96854239c4f258d570f40b3339d966d2010e4b40bcf27cdb88ce0741c66c5688b6e1eb2b407b610bdc2573be8639ddc290e548833b5ed756e788ea4578a4b3fcb2e24b2a109b756d6e2928e5b2e52348acf58ee5977118832f0463b75a2fdcd45f7ca2c988b0fd802f54bd46e926208d55e4023dc349ef9669d8f57c71d9ee5d47e7dfbaafb42eb86d46037a8af994ce4dbad32e35f3934d3db036e86da26f910e5282e3b80fa0347f2be6b96f5bfda55c058665bc71e3cf3f5d06f896c9a133a9beb730122ad463b7ea0d6bb60c725dd2da804bddd94ec805fc3cef7b63aec282a2bc4650df61b5e7aacda892118d3546d4b81ca740800c540ce36abc02948ba41def6396038ea984672dfcc9afdb6647691e319f37594ae6fb725835061bf7e2d88993bceca19eee910be3e1deec838636cc5691c9b396595991e39b14682b6e0e525f6d748d1e4129466fd1dd7f382b8faa1604e58e49271cbd12471ed990c48451a3031cd1d343d6e77eb2f430a2a3088257d641d06d4993ffa332d37b4141084b2e5c6d45e494245f41312ef917fc17564016ab5a37276e064450d5a94ae23a37167d810af6d32a898de5bcf1e71034ad747c1398bfd4582b72b85999b3d243ab4369b35c19ae8d76ed36db451da683638a306ffa0597ca1d84ff8c29c7720a22a8c2604a7b63afc7ecbab56ce79c410b3f7f867b67c7e511da66b1eefb6a4117749ed64f4fc1c5a2fa599041b65a0423c8f216ae186d73d930458477900edb4254dc69946d69aa6114638b4c547c5c99a90cfa119fef7875324e7580d2c9f4f258a2a1256dc0273fe88a0603a3dc8cf1d800736b51a34667a4c145b29bb8309fe5a558386bd5fa89817e5632d27cf3b2d0b6d5beb88b25c28934c2f1f60c63fb789c288d5d78242b894c7dfd9f7fa2747f6794ae0bb3f99c0f0bdf83bb22d6bb6a1b33df5fd7228c601a92ea3d56ea39f388f2b17210b410c83d13b0870b2d6f9bdbeaf1b505d78506e7bf1a7418c2eafe745e5f4e5f96046509550583174e584eb2a77068c45f93ebe6e211bcb8642a31b43c822b3ee7641ecb942c3626f23d3f2158472041b0d9b2ee7a361194ab4d3dbbfd7103a65bb8f1119fb3f22c9c0d13ba18a0e6217cd3d9c6485148bcbd0679c079cd14355c2cc23a7b80fb054af0fe50f114353c8bbe4519eceb7e0fcf368368772f5c5c44d69c0a834dbabc7b9889ccc7b147870b711c5f280a6f87befe5be1825dd437622724fdb8b6f8eaee0b58e193367e3c8f0df582c06623476690027e169f0b7146398dbfb742081a8228d57aa3978dbfcc88ebaf0b7888a3c250b68fc6efb847eeb13e694335f9e120abe7d4794349345ea49752a5781dde133e75c3703c9edbb13826ac21b0266ba513d8dc1b2f9286531dba3317fe11e911fa3ed255ee0edd26cd69035aca705f9251c6c47624677cca2d392ee3b900bae97c16e9dd5bd603986507ffe1568a3385335afd06e75a211c064bd0b6d396ec662e241a15adc053390852e70541657dfa2002d2e78ed14112ce3e11cd782fd7e1a551167eaf7160acb94b30921836e4082c6fa71d9ba9f9fb090b2c88c704aea000a81554fa76ed533b5dd9059b90c7fe02d1d9cd1a0fa81970be1ece6652335dbe774a0d8b1a10ac56373057e955d0b401cf84e5a47830a30bc3c784a9e6ce73201521e23e4757bccdc7bb98f15f538afa8f89561c486013813ba3d56b93a651fb7339c309fe799cdba97f4a845f2985d82101cf8848d4b896e73bfd9aa6e00b218bda142ba0c0d7504be1af5a4bb5a565b31a0ef41557e85d74ca4e5eb70bac1a257dbfdafdc96a8c8387a8c045f3d3924e2d05a46e79c39894e6d24f5b9aa574e0112d9e8053dc77c5ab571c598305e77891c391c33e54a8c1265e53e06356537a4dba98ed37ac0133ad6dade35859e6723fc821bc02017b64532e2d527f68895cdbe89b48c6ce87b7e2c9b17a7ab7db5816f052e35daafebd3ec8c5576abff0bb0fdbf5ff06302e486b21a18fdf6a15b69474a40c54a4295b9392c27d3a89587c35aee346194ca805dd14e016e1fc751db51155f5873259f48966e8262699be48a7cc905a78a748e81ceacb61e3953e8dc8840b831476888cb06e638456bdd5c4b5fe01d239d16e3f47451ed07c35205b580f6db93730afc7807621e22775591459f0cdd19461a7f0b06bbfaf47c99f0eec68e161e48c30fd5173402e654e2e9eb2256660bbc53dc995fd8215ecde34126c6a3fddc3d1c1f026dc074ce000f53d6ab6e8fc86744715111f608d3604b6088cada7864687e03d6fdd6b8fb6acde71c020aae0a56b65e684535c6e42b6e3303f2261ed6771df33373471d1058a0fcf2b9d743ebd753bac98e5f40891eb6dc04fc9356ae714ca06d37b3e3a32105b1792a92ab8e75771b0644e192671aaaa6d658f6141a1338bf21506713161614d0ff94a5658e5c398afd086cf7f482bc66c4b700d14528c7960829b3a93660aeb5b46c3282b8b459259ee4b6b567bc494ca2135c7eba78a954d97df9cf907c33a7d26606291530a289ddee24b50192a357092561efe39903f87fcf2598dc78933dd9c56416d5d13c07756a7ed68f9ac2548196b4aa88c4f27b7e3a186569767f90e635df6164158bef7694ac7ad70b54a497bacd56a468aeb73c50457e66bb0be7ae47894a5e464bd4a608719286c5373d980fd6506678498491d7fc392b00fa17f852d3ee1742e84b19a86f0d4d9b7c710ad5828369a69470916a4c47dde8c2d382b38348d5de2f940462a26c61a3549e36cf04ce83fb267203ac938865ff35a3313fc97c3a045e995aef436a071201645ba7d5a38a2f5fb72ac0f334150af0c107e082fd5f05fe68a447f7f2bcb55f0bfce543f2345fd01df0de5496c53580d0c8ba6896665f8d13d84e8bbcff30a5a043ff6c2389f2757648486507eaff95977f79b01d7cfd7b8273dcc1602843714e1584cdec1fb271867bacd267ab7fef922563f1773a66f9a0f56ce2d0f1069e7d4b664582d8698c5dcf6efc81b7d9feb038e3bf8aa14e3d457294c1b07202d0688b777959407cd52890ae56e596ec247c64d1d291634933b710eeda5d50e8e12590a4464dc55e6945efa7ff15ca9fb309bb19d2c08d76a6bc9f9d3acc557d408040a98afc3ccf598c1da04c58a312f7954d48e6f386b25948d3b2fa4963ac7a6e5a78aef42aae8b1ca852cb757dadb5e575329e593c2ca0c20900370a65b9f919b808910a931e9329525ccb560edb5b93917164db2271cb19a22756ecb8a96e0d99528c8e1ebe277fb7991179741b3380558a6695cead1b5a50df183586b621e5e41aedd27c57bf7cf2ee9ca7f2d95806ddbaf3660366f18669ac61c7280838daabb4891f201f7caf613f6e4f04a9ce9329ec0eecc6b697a50cce14fb3f0212ceedb06698e72d5879f0ddd68053db4ca1089b9c28681f84b7ec4e53cebb88ceffddd4b606a3defd37228b746d2e4fd72cc5c877519a74755e3ab1d669b9f7a52e32ff479489edb5a4efe10a42587c8f34fccb66f370c2a2014b9a28643f7f4b4d6cddb68c34367d0fdd20682d6515cc7d5747f72fa45469d1d301b3fcbb76b254cf37d099c9818bf365ee6073dd68f474df886632393464ab16cbb974526e697c7c8d4ee11a51950d6784088f6600ba32b397e99d04653a9039a3706f43a38007c68ace6e65dcddbbf11a65401b3e22c7e41e1ad9bad5f7ece04bf04403d9c40596ff7c27dd27ba2e949c736f6ce8398840d6599c2997ff92711b13a46722634af0688aa9d4c99066edbc68fe073c8bf7484fdcbd5ececf67d84ed2b01e103b304a7972030fce6265d2fa2c5cff0c7e17d405db4f36a34fa945ea22f069ae0454416195b6424f0cbb4db33f396bfe00b36184600dd458d5b14e7a9f630d8a054a4948daa60adf82e7dc5383b9f0dcba0b849d395e81cdc81bc6263e7cb2a3a2b23f16099ed431964383a81d399d2fb01131a6d08c70f53c0550ebaf8ec841d7c369f5ac373cc2a0432fce47a449fbe881b7b3d336005035befdae4f2d50071231c16ab8f7edc66602d8becbb2541ec0eb7f28bad2b2f9b8ffee1f104ce4aef4c10a667464c320bb01a446fc93e512ac5eab737cb5e57b922ff380c7825429f9a5709cd498c85aa0f28f31c64ee6c2b27bad9722469002d5e68b637c14b100f3e84d30e8c54916f1582148088b7388b98503140952628c281473544e16af2ad896b15f17f660144b6d14c12ff78437a28fa35ae6fbf955bdffb4aec2ba18235df565aee332ee5bc94965002378a710488da5b3f406166e462473a5cb5810f569a4796830a2a1db6cb9dc619d46c0f1e40117fcd317761d9f667222db50357caa0eca9bddc205b787132a2d54d11b85872c32fcfeaed9d50f09c3e0767c38e7d696767cd92bb7cc34bd16df6e32c54c008672a06165be946186c6f00dbc392ac91caadb3356861a0b73b574a3fd14fa8c60ced6d75b13737cea4a45b11b70fac6a72f6efde148321320150e5b125fd085814d0eb1c140793938766a7e10e9a2449f494e56b2da705d34713e0c11b2f91f4bf9a2e3904916d1ab1758f37321c12fa2d77667b85aef3b78e26274d5f6bea1fc6363ed57212bddae356a23210296017fd394447c630bc6d5e82c25d286f1f35b9b05b2d648079e4e55073848131c352f5659adad7866f302f71f3c6c2c3a6ed3febdcb42fcc69c313d869c24897922759fc7e670de710b4b0d93c9a8a6b3b9f425f1ad224de7d8442b9cbbc605687daa687e73ea85118da14e094b02e0667c991ef5f9a9db23fb36d49f291ca26ef90b94af7971c8767119e55fae6241001d543ff8b8b0c491cd6d16633155f6fe7c69d9ab53d39f4a817b25a166d9eb9db0635ef8c620b055249364318ec008551f16c1c07514781c0e5ed3a10e49f23b99e779ea2de276e83c4dc4df726a4d3a54798976156c76c8925350bc5527c66d30080bf045aeecb9d8e6a0b2eaae622400e67287b1988b6bc8fd9c777efa836d5bd69c468d258247e552aa792ffbee000332c17ee7a126b212fba9cc6f54fbf5463ff2059e0c914c50a3269bede4881efaea3d011de15e3fca85b98c0cb15ccec225f0de6df9b616338217fc09507a9d632acec5728f7847293b86e87dbf690bcaca5a2abbe50ece219ee2ee985da6945eadb4b7662cdb222c00bb98ebf4a968a4ce9386d57ef71005e01bb4b2047b0da5ce4a4215f97bc86f85779d3292b606ac98a871b1913fda3cf83a114aaeb7b57b527009abfaa86ede7c52eb3530ed0aa9e1ba0ea2a5b7dd971de92b9e303feba117ebfbda47ea5b57a2c2e3d010feda917a17f2b6fa3b12d4a442be86dd05834d8c3f07991c4acf4647937ba6bb2a9086fb44eccc0c25bbe5642cf0b3c83be5b4dd1f6b426f7d1828b27870c029867b7f43a1e4c48639c0ddcb6d4284979de9b62e88f8f17f20f138d100556a7aa1b7e4f618e20a819c8813deb12343ca499d5ed95b315cd867668c7900d940bb6c9c8cd414c1fb79620696ff1907fd7cd60beef8cf9825a9ca7d915793a47a9a84c248983715a3f0e9a6913c7ff908176796c0903701c451bdd923f43559c43795e18f83079646c59a122e999b8ddfb0f5b63ab9c203c6d35f410db4b2c795a2f151b72b041072209ba1079025f861e049e4b3f675e42893fdd52c2b929ed676ab1161da251b5c314281a05df08b56dc4932edb7d10ae58f554eb9a7fa74a8cc9f0ffe3bd81892c20b46b0d487895297464bd05264fda090ee28a64ab69ea047b5fac4c7cdf8040b8cfe83bfad445378f4d5647d1a2d72d396d9fac439b7b40779ce35fcf64cddac6802a6b019ecaa0026091cbed3df2920743bc64047928954d7a1400cb25ae826cc25c23be585b1176f995c1e6b4ecd54fa3f8e6774fea3d11885408459729e09ea80a2a3931d1b79ea1ccecb07935cde25ee8374f9ed060fcca397eeb6c5a6505b6cf38597413ce5817047e9b4fde3fee5fe41d4fbd2d7370633fe75be366f480f614508c8afa6b73d85bc2947b8510a5dfb00cd2159dc95f6c7ef7d6aec750b4db535f67b2516328b0c6f2ad7311080aac87acf0e9822240f25abc7e7b4e4fadfc63790fdfae4f75891864d0fbbf6784bdddd4eddecfba2a6a718e33948b028fd14407440ddf3fc9229d59624d1e2357aea4ba9f822222f01c26cdba07e46d8f6345db35efd836b6bc3f43cf58ad50a8ed36deb27e8bcdfd497cf2cb8d4b168f1f2e5bc695205a84a90127276c76428502df7028d05936dcb32b22d2e5f927a191e38396f7880514de6701caee5bdb67fb6bfab65f50a6d97c486edbdb1856eb10cd008170d01e3c4b90669bb9f394aa898b0bb1f111c0a93a1cdb98edf51c16c2663eec9cc127b714d465710bb463eb1ad668a13f1d0643c66f820536e3f09e90b84cc97860b26ee8cba343413cc1a9571ba337c35d57549e6942698c6260553365d69e5ecb1de7e6a87eb3eb614b914e08285d2fc3c6f2dceb5f5002ed39b1301c2f787c7aa4ffd2ae765a9d2eb74bdff332f449500f58a24a4fb11819c6c4e0fd8188d1295143f29ef6716f3978798b029cec113918b4b3d1a2e1ce3eb35314488c7f93d9c715eba8dbf60b24f3df2cf3f732c4b9dc1c2202b9986e96abb7918a5c2a881d56256d515cb2e075ab15ea48dd79cb8c8ec2cddef722eae6f2f738801f502e51f63dba7be044809c78f53e8f0401d5a4219ba3bd8ad1c51f0ad625076115efd9289db483ef2a8ce1c53c923a2172a624c7637d87aa170a72c068266ae2d60a1479cf6bdfeba24bd023b885742abfb1e1ed4daba58bcf83ea81f2b58b9698b412c41a57c21ced5720fc7e60dbd4129504498c70f46c6407b5d050aff6e6fc1ecd946fceccf530bc5e0fa3749d61a34d44db22ae6d1eb42c1f2a7dd960486dfed2227b8719e52b6514574153429b2a8691a0dfc2b3669405dc8d2b8c4c66993f1d9bc0d1a41105b12f7e0562b68dfe60480f279981d951ea5a677b5aa0d880e98f0175dc59b846cb8e02a8575d54e9390b42c9e44d5b68a9b1e65152e4f6e6e5f02cc9be0ef4b0731a5d06f6c0b2a3ed273f76704e850d746f473c9ef1153798f27c074910ebce9ed8b7755b2eb662ea99defcbc03a92193b4a5f12e3ca16a1213681b91daf3f5fad5f3f51ec567a888f5a4a70b16b4340327a51a38863539034188c166011f5a0371bad7936e0d43f92c0b72b503d3bad4de8ee89330d58cfb0208abd6b220d4dbf63b3cee61136bfebae43c5c13e6ede19f7f73a1dda02a9e5633399c159a1e94340769095b1139b02d7e22156a1110510fbae8a65508e9b00a7f771a8691167d97853947a3c0c49ad7d227420a06d8029b151219e1875cb5fedfbffb9765332ed8395548914aadd0e7689fc92260f5468fc6b9fdf087ab8fd5cb1a25e1ab914fff5c5499f2b4b148018cb414c066512bedb2174d994846f0fcc1c1d1bdea16d7ff1f90fd3d02a2712c3db34cc9b1c04c6c20641d23c564cd9dd69a418d8edc7b1a3722741862b9a5190818edbec0c05911adfd16a308d9305ea5d23b437d5be59b538504a3a03ada8e966fd4cbf6843961da654b0cfd6215acf68420cbdeae57858d9e8fd55b2e7b2334eca7e134553eff4460054c97b5c780d1025dcf501dc3889e4742c7bf3292efb720d306d5bfb4ab7c0bc10c67047364dffc42dbaf20bdc28ab7ae5c114624cb703f23e5d293098f2b0a5d64f2b0271e67d005f53aaa0e92ec1c64d2c2dac927c135a3e386f408e95588b046bf87348a843d8eaac62d34207e11ee421c3fc55bec77709dc91f2ad5f02f984cf8b6d0da697b4b7c64cd4c8b91564987e9d9b957b6a251875741f4842a01c9c86b3d30a1e3011ebdee0f1227ba60f6373469a30cf0766c173252dcba0d5a045e64b2ea793aeed5e27fcf21fb20ccb185071abbb38a09fbf966f2f4cf668cd28b6eb08dff0b45c4cfedd62e26cd201179a4cf654e92e0b9a5d1e17cbea0eb245c33f9d869d0258c85f2a7381c0b2938f15c9a7a30dcba0846ca7c75c8d7d4f3ce4b5336bc89d690634ced2f86e53059e731f92f2a0f7f386167958cacc2409aa8150d9535fe2f35ccc34ce50bc9e75625c7d536b0d365f1a903dfcd15a4b0428ab5229a3cfa1595044836c6f661508393797082853a3beca2d755dbf8488959397287eee5daecab67fd32051c8e1b52a2f4e3d7c469c34728887abb868ed36824b39bc793391259632a5e147ae44a2a194124241a44598115febc89f2cf6b302027afef1488d64a7b8b29acfcf137234e8e616368cf6fc2f0e46a0edfd64e5c878b72a60b59d8fff1a5b0137f90d93fc6dc053cda8d3fbb883d0ea65b4e095932d90a264a7c7a378ae2c94cf6fc345fb81081a1f638a3f6f3b86981c5917f012801fb7b3d6e5bf2fb755011e7e37dee4bb9dc1f7c3b48e473e08cd1b9b57d4d45569e6191721f68d5753bea0b7e34949ab8324d388690096aebcf477632c38abe26af7313100f2a07a5365c7ca9f073ee253b83b9f6c0d720571dd51a5e84c07d076ef5871d018ed6a91f36758ac8ee143665793f5c6187fe0ec4738de52a006807744e14760b0aa8b0c5a4bda5a9e9f53ca3e4490f109be093b3b3e009342039beff27fe0971be0d7b03e22a2e67e32bc545ba199933b88faa7ea0e2e377ae77012c845f02f7e224f5dd6e5601e6b225c3d38bd2810e044fc2ab2d77fffac902fd646d39ed497921414866829e33dbe3f83ac582005b6daa315375e9334efd86c4b7005a0829e42ebd517c1bb4517a9b6687dd625f518394c7d53c75a0ef093f11479ef0b2227acfa55624333fa141487c831a4c970caff190af1199a958e7a92a4d1ba1bf2dfffbbca32ebc2e6f71d25f93bcc326b93f8894e7ef3a89f933d88fbe1678fe35fafb0eafc5ad19c25bc36111e9b90b5a4f6bbe2e7f4da39782a21211a186ba765c35d295d699bbd1cd9f2216a773267d0f1e4f3f482494af7ebcf4553191106c0152a1d7dab6e7c208574135ed38648d613c884e1b4ac553b995fc7887a3ee80c17608becd0407d79deeb968fbdc47b411afedf8056bc2950ab4dedfea9677068f2361699933cbb24868ffe1c44191f196d1f680a11765601c44bf7d63a5121f557b76bbd5dbf80f77954879db903f362687dd09848860a981024a4b6bcf60408150bede4f281b6275d44d68ea920784edce21165be3af3dbfd0baa747831d24a3f623963e4fb1171ebbdbd54d0bdc806ee72f515e3ab9ef960e11577071ac3718cb64d6f97643da0e5296ca25326892130f189b116b02e2f3fd34e64631ad3893be536a5a8ff42b2f624191975ddff2c523f1cfb80be165447a641027afaaaf4ac0411dd560b8d5c38ebf414e9ecb1219c62887af2921d21b69e890a7eb3370962c3550577babe7bd391e63cf02dbe92b15fb1964f6985de9048d32c32bbe710cdd41fe1de7d7b64533f5d121852925d220fe4e2e983f0d7175239aa8c8a85190fc6f011ef744775799bbaddf6063a8f75372069caade43b014e50c337a07b7b884813691c61a8e01a6f0bfc74dc20593300a9a90bfdb4d5a775500a365d0c4f3fbf4f810e2c9d565dc8a3c1aa3e37ff8e983be6e7b8f1ed206aef254462b30160ec9d5f1245de44241455539b693ef9ca00ffe69870ea1d25b0c147bacff9472d479b4f73df9ea22155396d3e1d584f1ca64d06f4d15e73e1e54228627005fc8a8b034cac423b68d571703128ba3031bc49d5c25e19929035b6353d4fd0b88dabcd11df50ddae588c9b9cc42c12c4f5934778724a1a93be7dce894336c3af1d9844fc80484581bf52f456fa5dd05d1634a5399195e8a39538e17af5196f56fff305893f39539a2b0d089504f2e8e3c75315406f37ea1fa66c13dd6754ada5aa22bae08cb865c55ab221f48d784c6749efc7c2f521178da5d364d50064111985d93f5c47d0185553a7561c7cf2eabae4feac84e1102585f3532f1507d91dc2dc90e7849f11cbc1365f2ff082c2b70157382e5fd1f5a81d5c6daf04e5918bcb4a673b8d72989a2bb2fd3b11b353ede1c50165780249354c3131ca3aa5e7906c876c329ce28be82e7cd20aaf60540228165c7283673fd7fbfa6b600c9b53adc1952e82c969f312f33970af757aaa535c3a96758cac0e95f52e77cf6897f70a7242ac2cc0b601c2b8dbdb4bf0f79b4b49c1dd2f8911978982c9494231f980539cf350da036afbe65431d8ab9d91829e35ed5d7669c90d9dad40082dcec5c6fd335a7cc88c2a6f503b702d67047b9f1839ec53563377f5b28f904952ed6e015cf2d2c3872bee3af9c977c7b103b1e320ce8b418ded0f6789e9b2eb44701665e1097e8c33212e3944836595413fa20d88643590bcbad7b3791de591bd704860d8fa91c2d87ccf109cad573aec69da7fb0b6a98e4afe0b1c67a7123cf03a78aac908752a943e095c5cd8d1732c6588e43d3c277ad3820f026ba772ff182eccc7b0319b57bc4d648fa684e29675de6e1157acdea7aeaa0ce3cd6483b7aacbe2a96882f06d99afb1a517b3bcced08b9d8aa98ca93e92f1886e2725137291d16c7e90f799e815e26e84b511ec938832549d0f78353d6aa360f1e214bcec30909c47e85880de19611f026d9bfe76f8f17f0295fd71a9c461efb87805b70efaa6e5584c9ce591dabc951e42c4e4657366f83c9cb7f3098f3f650a50bac3ea1967e356dd473eb122d0c91c4250c1fb13ddb63c279c5b0a7e21ba167f5421fb1b4a5cf95c2f9cdb8917d6a5308e0a552ed8dc808c4231fbb5db60285de2349d7e01a9f5e30d3ce64846b702b506953fcbabf659e41785520e537e792680a046984e8194ad76ef7119048375b9c5f258ea82a536da191b612b6a5d527f3dab1befe5b02433cad90941d5fa86de0a7a282d37934bdf94450592f1b4998a6b1746a4b2be31b58bc495460280628ac0fa9c2bfbbb21016f296f2a9f228d30a030d0327fda1aa0d8ee1c08c385f1dd0eaf6922514323e43b96aa34775c493e984e506f59b15f5b06ab322e29d94a02748f4503c582beb12b93f8e5276dc612d0a5a4d618bb7999c7803e842603a034b97bf15bfccdd52b5ecf37a4399d60966e99d818e20a72b92f9f8b4761ccd7124a8622047243986b9e0e9942c358a2c74446912a494e2ba4656f714d4c4779da86eb0b49244526973edaae69fad9592cd077ec1bc847ff3c0cde51996c94382eb3fcd3df6c451985225cb860f8bf1743cc0454a4f56d46d6784c6d0c9f845d14c8f60a20a7dcb7cde203e1aa92b0558552a84b56d123641a498596eef0397616a94ccd04ec89fff4c372f08c9db26da3e97e7d366e16edd5b9c85b6c8fec25c849e6f46e3966ba9420e1de4df9bb876fc5e6c5f58ac571521b59204b7ef7aad9e010aee216eba0ca25f0d9029e8abb2d0c441ac0c8f0ca5a5b59a91216d00516eca2f5f45666b9b6d693abec0ddad3005cabed46963992b963ad103eb50dda88c5d2d5410de54c7476521bc37d10fddec34d6e5f8f7eedd88fa8915f809b2eb4771c21521f5e464c7d532aab3e67373ff662082cb7f7e0082269c59fdf3ab5af76a46efb9b41eae0a61801523d651c496a83cd61d7bfb5c4b4eab08f327aa8b5a4226203da5a0741ef78e1c5e7690dadb14a5ce8066a88fe9669867e5267c2fc5402c1cf0a778a4d5c5b38eb63047b0ec9c37bf79d67175a4ef6e393978cd27538b8406da814a49328d5d0812ca2d47e8278ff5bfa002fcfe","isRememberEnabled":true,"rememberDurationInDays":"0","staticryptSaltUniqueVariableName":"35f342e6ce009f24021d830bed6f1d6e"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
